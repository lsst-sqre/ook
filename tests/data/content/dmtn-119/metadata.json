{
  "name": "Report on Operations Rehersal #1\n",
  "@context": [
    "https://raw.githubusercontent.com/codemeta/codemeta/2.0-rc/codemeta.jsonld",
    "http://schema.org"
  ],
  "@id": "https://dmtn-119.lsst.io",
  "@type": [
    "Report",
    "SoftwareSourceCode"
  ],
  "articleBody": "\n\n\\documentclass[DM,authoryear,toc]{lsstdoc}\n\n\n\n\\newcommand{DMTN}{DMTN}\n\\newcommand{119}{119}\n\\newcommand{737dd1a}{737dd1a}\n\\newcommand{2019-07-13}{2019-07-13}\n\n\n\n\n\n\\newacronym{AD} {AD} {Associate Director}\n\\newglossaryentry{AURA} {name={AURA}, description={\\gls{Association of Universities for Research in Astronomy}}}\n\\newglossaryentry{Alternative Standard Visit} {name={Alternative Standard Visit}, description={A single observation of an LSST field comprised of one 30 second exposure.}}\n\\newglossaryentry{Archive} {name={Archive}, description={The repository for documents required by the NSF to be kept. These include documents related to design and development, construction, integration, test, and operations of the LSST observatory system. The archive is maintained using the enterprise content management system DocuShare, which is accessible through a link on the project website www.project.lsst.org.}}\n\\newglossaryentry{Archive Center} {name={Archive Center}, description={Part of the LSST Data Management System, the LSST archive center is a data center at NCSA that hosts the LSST Archive, which includes released science data and metadata, observatory and engineering data, and supporting software such as the LSST Software Stack.}}\n\\newglossaryentry{Association Pipeline} {name={Association Pipeline}, description={An application that matches detected Sources or DIASources or generated Objects to an existing catalog of Objects, producing a (possibly many-to-many) set of associations and a list of unassociated inputs. Association Pipelines are used in Prompt Processing after DIASource generation and in the final stages of Data Release processing to ensure continuity of Object identifiers.}}\n\\newglossaryentry{Association of Universities for Research in Astronomy} {name={Association of Universities for Research in Astronomy}, description={ consortium of US institutions and international affiliates that operates world-class astronomical observatories, AURA is the legal entity responsible for managing what it calls independent operating Centers, including LSST, under respective cooperative agreements with the National Science Foundation. AURA assumes fiducial responsibility for the funds provided through those cooperative agreements. AURA also is the legal owner of the AURA Observatory properties in Chile.}}\n\\newglossaryentry{CCD} {name={CCD}, description={\\gls{Charge-Coupled Device}}}\n\\newglossaryentry{Center} {name={Center}, description={An entity managed by AURA that is responsible for execution of a federally funded project}}\n\\newglossaryentry{Charge-Coupled Device} {name={Charge-Coupled Device}, description={a particular kind of solid-state sensor for detecting optical-band photons. It is composed of a 2-D array of pixels, and one or more read-out amplifiers.}}\n\\newglossaryentry{Commissioning} {name={Commissioning}, description={A two-year phase at the end of the Construction project during which a technical team a) integrates the various technical components of the three subsystems; b) shows their compliance with ICDs and system-level requirements as detailed in the LSST Observatory System Specifications document (OSS, LSE-30); and c) performs science verification to show compliance with the survey performance specifications as detailed in the LSST Science Requirements Document (SRD, LPM-17).}}\n\\newglossaryentry{Construction} {name={Construction}, description={The period during which LSST observatory facilities, components, hardware, and software are built, tested, integrated, and commissioned. Construction follows design and development and precedes operations. The LSST construction phase is funded through the \\gls{NSF} \\gls{MREFC} account.}}\n\\newacronym{DESC} {DESC} {Dark Energy Science Collaboration}\n\\newglossaryentry{DIASource} {name={DIASource}, description={A DIASource is a detection with signal-to-noise ratio greater than 5 in a difference image.}}\n\\newacronym{DM} {DM} {\\gls{Data Management}}\n\\newacronym{DMS} {DMS} {Data Management Subsystem}\n\\newglossaryentry{DMTN} {name={DMTN}, description={DM Technical Note}}\n\\newacronym{DR} {DR} {Data Release}\n\\newacronym{DRP} {DRP} {Data Release Production}\n\\newacronym{DTN} {DTN} {Data Transfer Node}\n\\newglossaryentry{Data Management} {name={Data Management}, description={The LSST Subsystem responsible for the Data Management System (DMS), which will capture, store, catalog, and serve the LSST dataset to the scientific community and public. The DM team is responsible for the DMS architecture, applications, middleware, infrastructure, algorithms, and Observatory Network Design. DM is a distributed team working at LSST and partner institutions, with the DM Subsystem Manager located at LSST headquarters in Tucson.}}\n\\newglossaryentry{Data Management Subsystem} {name={Data Management Subsystem}, description={The subsystems within Data Management may contain a defined combination of hardware, a software stack, a set of running processes, and the people who manage them: they are a major component of the DM System operations. Examples include the 'Archive Operations Subsystem' and the 'Data Processing Subsystem'\".\"}}\n\\newglossaryentry{Data Management System} {name={Data Management System}, description={The computing infrastructure, middleware, and applications that process, store, and enable information extraction from the LSST dataset; the DMS will process peta-scale data volume, convert raw images into a faithful representation of the universe, and archive the results in a useful form. The infrastructure layer consists of the computing, storage, networking hardware, and system software. The middleware layer handles distributed processing, data access, user interface, and system operations services. The applications layer includes the data pipelines and the science data archives' products and services.}}\n\\newglossaryentry{Data Release} {name={Data Release}, description={The approximately annual reprocessing of all LSST data, and the installation of the resulting data products in the LSST Data Access Centers, which marks the start of the two-year proprietary period.}}\n\\newglossaryentry{Data Release Processing} {name={Data Release Processing}, description={Deprecated term; see Data Release Production.}}\n\\newglossaryentry{Data Release Production} {name={Data Release Production}, description={An episode of (re)processing all of the accumulated LSST images, during which all output DR data products are generated. These episodes are planned to occur annually during the LSST survey, and the processing will be executed at the Archive Center. This includes Difference Imaging Analysis, generating deep Coadd Images, Source detection and association, creating Object and Solar System Object catalogs, and related metadata.}}\n\\newglossaryentry{Director} {name={Director}, description={The person responsible for the overall conduct of the project; the LSST director is charged with ensuring that both the scientific goals and management constraints on the project are met. S/he is the principal public spokesperson for the project in all matters and represents the project to the scientific community, AURA, the member institutions of LSSTC, and the funding agencies.}}\n\\newglossaryentry{DocuShare} {name={DocuShare}, description={The trade name for the enterprise management software used by LSST to archive and manage documents}}\n\\newglossaryentry{Document} {name={Document}, description={Any object (in any application supported by DocuShare or design archives such as PDMWorks or GIT) that supports project management or records milestones and deliverables of the LSST Project}}\n\\newglossaryentry{EPO} {name={EPO}, description={Education and Public Outreach}}\n\\newacronym{FITS} {FITS} {\\gls{Flexible Image Transport System}}\n\\newacronym{FIU} {FIU} {Florida International University}\n\\newglossaryentry{Flexible Image Transport System} {name={Flexible Image Transport System}, description={an international standard in astronomy for storing images, tables, and metadata in disk files. See the IAU FITS Standard for details.}}\n\\newglossaryentry{Handle} {name={Handle}, description={The unique identifier assigned to a document uploaded to DocuShare}}\n\\newacronym{IAU} {IAU} {International Astronomical Union}\n\\newacronym{LDF} {LDF} {LSST Data Facility}\n\\newglossaryentry{LDM} {name={LDM}, description={LSST Data Management (Document Handle)}}\n\\newglossaryentry{LPM} {name={LPM}, description={LSST Project Management (Document Handle)}}\n\\newglossaryentry{LSE} {name={LSE}, description={LSST Systems Engineering (Document Handle)}}\n\\newacronym{LSST} {LSST} {Large Synoptic Survey Telescope}\n\\newglossaryentry{LSSTC} {name={LSSTC}, description={\\gls{LSST} Corporation. an Arizona 501(c)3 not-for-profit corporation formed in 2003 for the purpose of designing, constructing, and operating the LSST System. During design and development, the Corporation stewarded private funding used for such essential contributions as early site preparation, mirror construction, and early data management system development. During construction, LSSTC will secure private operations funding from international affiliates and play a key role in preparing the scientific community to use the LSST dataset.}}\n\\newacronym{MOPS} {MOPS} {Moving Object Processing System}\n\\newglossaryentry{MREFC} {name={MREFC}, description={\\gls{Major Research Equipment and Facility Construction}}}\n\\newglossaryentry{Major Research Equipment and Facility Construction} {name={Major Research Equipment and Facility Construction}, description={the NSF account through which large facilities construction projects such as LSST are funded}}\n\\newglossaryentry{Moving Object Processing System} {name={Moving Object Processing System}, description={The Moving Object Processing System (MOPS) identifies new SSObjects using unassociated DIASources. MOPS is part of the Science Pipelines.}}\n\\newglossaryentry{NCSA} {name={NCSA}, description={National Center for Supercomputing Applications}}\n\\newacronym{NSF} {NSF} {\\gls{National Science Foundation}}\n\\newglossaryentry{National Science Foundation} {name={National Science Foundation}, description={primary federal agency supporting research in all fields of fundamental science and engineering; NSF selects and funds projects through competitive, merit-based review}}\n\\newglossaryentry{Non-Standard Visit} {name={Non-Standard Visit}, description={Any single observation of a LSST field that is not comprised of either two 15 second 'Snap' exposures (a standard visit) or one 30 second exposure (an alternative standard visit). For example, exposure times for Special Programs might be significantly shorter or longer than a standard visit (or of random length).}}\n\\newglossaryentry{OSS} {name={OSS}, description={Observatory System Specifications; LSE-30}}\n\\newglossaryentry{Object} {name={Object}, description={In LSST nomenclature this refers to an astronomical object, such as a star, galaxy, or other physical entity. E.g., comets, asteroids are also Objects but typically called a Moving Object or a Solar System Object (SSObject). One of the DRP data products is a table of Objects detected by LSST which can be static, or change brightness or position with time.}}\n\\newglossaryentry{Operations} {name={Operations}, description={The 10-year period following construction and commissioning during which the LSST Observatory conducts its survey}}\n\\newacronym{PSF} {PSF} {Point Spread Function}\n\\newacronym{PST} {PST} {\\gls{Project Science Team}}\n\\newglossaryentry{Project Manager} {name={Project Manager}, description={The person responsible for exercising leadership and oversight over the entire LSST project; he or she controls schedule, budget, and all contingency funds}}\n\\newglossaryentry{Project Science Team} {name={Project Science Team}, description={an operational unit within LSST that carries out specific scientific performance investigations as prioritized by the Director, the Project Manager, and the Project Scientist. Its membership includes key scientists on the Project who provide specific necessary expertise. The Project Science Team provides required scientific input on critical technical decisions as the project construction proceeds}}\n\\newglossaryentry{Project Scientist} {name={Project Scientist}, description={The principal scientific advisor  to the LSST Project Manager to ensure that LSST system specifications are appropriate for achieving the scientific goals of the project; the Project Scientist also works closely with the Systems Engineering group and chairs the LSST Science Council}}\n\\newglossaryentry{Prompt Processing} {name={Prompt Processing}, description={The processing that occurs at the Archive Center on the nightly stream of raw images coming from the telescope, including Difference Imaging Analysis, Alert Production, and the Moving Object Processing System. This processing generates Prompt Data Products.}}\n\\newacronym{QA} {QA} {Quality Assurance}\n\\newacronym{QC} {QC} {Quality Control}\n\\newglossaryentry{Quality Assurance} {name={Quality Assurance}, description={All activities, deliverables, services, documents, procedures or artifacts which are designed to ensure the quality of DM deliverables. This may include \\gls{QC} systems, in so far as they are covered in the charge described in LDM-622. Note that contrasts with the LDM-522 definition of \u201cQA\u201d as \u201cQuality Analysis\u201d, a manual process which occurs only during commissioning and operations. See also: Quality Control.}}\n\\newglossaryentry{Quality Control} {name={Quality Control}, description={Services and processes which are aimed at measuring and monitoring a system to verify and characterize its performance (as in LDM-522). Quality Control systems run autonomously, only notifying people when an anomaly has been detected. See also Quality Assurance.}}\n\\newglossaryentry{SRD} {name={SRD}, description={LSST Science Requirements; LPM-17}}\n\\newglossaryentry{Science Collaboration} {name={Science Collaboration}, description={An autonomous body of scientists interested in a particular area of science enabled by the LSST dataset, which through precursor studies, simulations, and algorithm development lays the groundwork for the large-scale science projects the LSST will enable.  In addition to preparing their members to take full advantage of LSST early in its operations phase, the science collaborations have helped to define the system's science requirements, refine and promote the science case, and quality check design and development work.}}\n\\newglossaryentry{Science Pipelines} {name={Science Pipelines}, description={The library of software components and the algorithms and processing pipelines assembled from them that are being developed by DM to generate science-ready data products from LSST images. The Pipelines may be executed at scale as part of LSST Prompt or Data Release processing, or pieces of them may be used in a standalone mode or executed through the LSST Science Platform. The Science Pipelines are one component of the LSST Software Stack.}}\n\\newglossaryentry{Science Platform} {name={Science Platform}, description={A set of integrated web applications and services deployed at the LSST Data Access Centers (DACs) through which the scientific community will access, visualize, and perform next-to-the-data analysis of the LSST data products.}}\n\\newglossaryentry{Software Stack} {name={Software Stack}, description={Often referred to as the LSST Stack, or just The Stack, it is the collection of software written by the LSST Data Management Team to process, generate, and serve LSST images, transient alerts, and catalogs. The Stack includes the LSST Science Pipelines, as well as packages upon which the DM software depends. It is open source and publicly available.}}\n\\newglossaryentry{Solar System Object} {name={Solar System Object}, description={A solar system object is an astrophysical object that is identified as part of the Solar System: planets and their satellites, asteroids, comets, etc. This class of object had historically been referred to within the LSST Project as Moving Objects.}}\n\\newglossaryentry{Source} {name={Source}, description={A single detection of an astrophysical object in an image, the characteristics for which are stored in the Source Catalog of the DRP database. The association of Sources that are non-moving lead to Objects; the association of moving Sources leads to Solar System Objects. (Note that in non-LSST usage \"source\" is often used for what LSST calls an Object.)}}\n\\newglossaryentry{Standard Visit} {name={Standard Visit}, description={A single observation of a LSST field comprised of two 15 second 'Snap' exposures that are immediately combined. An 'Alternative Standard Visit' is a single observation of a LSST field comprised of one 30 second exposure.}}\n\\newglossaryentry{Subsystem} {name={Subsystem}, description={A\u00a0set of elements comprising a system within the larger LSST system that is responsible for a key technical deliverable of the project.}}\n\\newglossaryentry{Subsystem Manager} {name={Subsystem Manager}, description={responsible manager for an LSST subsystem; he or she exercises authority, within prescribed limits and under scrutiny of the Project Manager, over the relevant subsystem's cost, schedule, and work plans}}\n\\newglossaryentry{Systems Engineering} {name={Systems Engineering}, description={an interdisciplinary field of engineering that focuses on how to design and manage complex engineering systems over their life cycles. Issues such as requirements engineering, reliability, logistics, coordination of different teams, testing and evaluation, maintainability and many other disciplines necessary for successful system development, design, implementation, and ultimate decommission become more difficult when dealing with large or complex projects. Systems engineering deals with work-processes, optimization methods, and risk management tools in such projects. It overlaps technical and human-centered disciplines such as industrial engineering, control engineering, software engineering, organizational studies, and project management. Systems engineering ensures that all likely aspects of a project or system are considered, and integrated into a whole.}}\n\\newacronym{TS} {TS} {Test Specification}\n\\newacronym{US} {US} {United States}\n\\newglossaryentry{Visit} {name={Visit}, description={A sequence of one or more consecutive exposures at a given position, orientation, and filter within the LSST cadence. See \\gls{Standard Visit}, \\gls{Alternative Standard Visit}, and \\gls{Non-Standard Visit},DM TS Sims,,\nEducation and Public Outreach (EPO),The LSST subsystem responsible for the cyberinfrastructure}}\n\\newglossaryentry{algorithm} {name={algorithm}, description={A computational implementation of a calculation or some method of processing.}}\n\\newglossaryentry{astronomical object} {name={astronomical object}, description={A star, galaxy, asteroid, or other physical object of astronomical interest. Beware: in non-LSST usage, these are often known as sources.}}\n\\newglossaryentry{metadata} {name={metadata}, description={General term for data about data, e.g., attributes of astronomical objects (e.g. images, sources, astroObjects, etc.) that are characteristics of the objects themselves, and facilitate the organization, preservation, and query of data sets. (E.g., a FITS header contains metadata).}}\n\\newglossaryentry{monitoring} {name={monitoring}, description={In DM QA, this refers to the process of collecting, storing, aggregating and visualizing metrics.}}\n\\newglossaryentry{patch} {name={patch}, description={An quadrilateral sub-region of a sky tract, with a size in pixels chosen to fit easily into memory on desktop computers.}}\n\\newglossaryentry{pipeline} {name={pipeline}, description={A configured sequence of software tasks (Stages) to process data and generate data products. Example: Association Pipeline.}}\n\\newglossaryentry{sky map} {name={sky map}, description={A sky tessellation for LSST. The Stack includes software to define a geometric mapping from the representation of World Coordinates in input images to the LSST sky map. This tessellation is comprised of individual tracts which are, in turn, comprised of patches.}}\n\\newglossaryentry{stack} {name={stack}, description={a grouping, usually in layers (hence stack), of software packages and services to achieve a common goal. Often providing a higher level set of end user oriented services and tools}}\n\\newglossaryentry{tract} {name={tract}, description={A portion of sky, a spherical convex polygon, within the LSST all-sky tessellation (sky map). Each tract is subdivided into sky patches.}}\n\n\\makeglossaries\n\n\n\n\n\\title{Report on Operations Rehersal \\#1}\n\n\n\n\n\\author{\nWilliam O'Mullane and Robert Gruendl and Robert Blum\n}\n\n\\setDocRef{DMTN-119}\n\\setDocUpstreamLocation{\\url{https://github.com/lsst-dm/dmtn-119}}\n\n\\date{2019-07-13}\n\n\n\n\n\\setDocAbstract{\nShort report on the ops rehearsal held in Feb 2019.\n}\n\n\n\n\n\n\n\\setDocChangeRecord{\n  \\addtohist{1}{YYYY-MM-DD}{Unreleased.}{William O'Mullane}\n}\n\n\\begin{document}\n\n\n\n\n\\mkshorttitle\n\n\n\n\n\\section{Introduction} \\label{sec:intro}\n\nLSST \\gls{DM} conducted the first operations rehearsal from May 7$^{th}$ to 9$^{th}$ 2019.\nThe plan for the rehearsal was outlined in \\citeds{LDM-643}, the main principle was to simulate\nnominal operations with \\gls{CCD} data flowing from Chile, being processed (calibrated) and having some quality\nassurance done on it.\n\\citeds{LDM-643} details the procedure and personnel involved,\nhence in this document  we give only a brief summary of what  happened in the rehearsal.\n\n\n\\section{The rehearsal \\#1}\n\nThere was a short prep meeting on the Monday before the rehearsal started to make sure everything was in place.\n\\subsection{Setup and limitations} \\label{sec:setup}\n\nA set of raft data (simulated data from DC2) which intersected\nintersect \\gls{tract} 4849 \\gls{patch} 2,2.  The datasets for each night are comprised\nof \"observations\" from two bands (night1: r, i-bands;  night2: z, y-bands, night3: u, g-bands).\n\nProcessing is to run singleFrameDriver.py - this is still Gen2 butler.\n\nThe three \\gls{DESC} DC2 data sets were transferred to a \\gls{DTN}\\footnote{lsst-user@139.229.127.99} in Chile to act as the acquired data.\nA cron job was installed to start a script\\footnote{\\url{https://github.com/womullan/opsforwarder}} to transfer the files to the receiving node in \\gls{NCSA} \\footnote{xfer.ncsa.illinois.edu}. Secure copy \\texttt{(scp)}  was used to make the transfer under the user \\texttt{womullan}.\n\nIn operations the transfer nodes should be automatically transferring data which shows up in an operations directory. The script was only for this exercise. The \\gls{DTN} which was used is an \\gls{FIU} machine not one of our final nodes and hence is not set up as we will for operations.\n\nIngest, processing and \\gls{QA} were run on the full dataset once transferred not as each file arrived.\n\n\\subsubsection{Communications }\n\n\nA Slack channel \\href{https://lsstc.slack.com/messages/CJBSY6FUN}{\\#ops-rehearal-1}  was created\nfor minor communications.\n\nDaily telecon was held using bluejeans at 11:00PST with the agenda:\n\\begin{itemize}\n\\item Serio\tStatus on mountain (can tailor for what is actually happening right now and we can discuss how this looks in commissioning and operations). Andrew gives \"mock\" night report.\n\\item Gruendl \tProcessing summary. How did ingest go. How did processing go.\n\\item MacArthur, Slater\tMetrics/QA, what's in the logs, what can we say about the data. Summary plots and metrics. What is missing in our view. What can we add for next night?\n\\item Morganson\tIssues, resolution. Did anything happen that we can fix for the next night\n\n\\item All\tPlan for next night. What do we need to do to make sure next night works better (or as well).\n\\end{itemize}\n\n\n\\subsection{Day 1} \\label{sec:day1}\n\nThe daily meeting took place as planned at 11:00 \\gls{PST}.\n\nIt was noted the transfer took longer than expected - a potential network problem was suspected.\nThe data transfer script has a 5 second delay (which should have been removed) that made the transfer take far too long.\nTo keep the process running the dataset, which was already at \\gls{NCSA}, was copied into the incoming folder.\n\nThis was ingested into \\texttt{/project/OpsRehearsal\\_1/night1}  and processing (\\texttt{singleFrameDriver.py}) ran  smoothly  averaging  ~1.5 CCDs/s  (running with 24 cores x 3 nodes), taking a total of 48 minutes.\n\n29 ``FATAL ' errors (w/58 Runtime Errors) were noted among the 1,997 CCDs processed\nThere were issues with N stars and \\gls{PSF} build and  Flux limit (linked to a a known problem).\n\nThe odd number of CCDs (not a multiple of 9) was immediately remarked upon and investigated.\n\nMorganson found it was  missing one exposure from the 01687569 series using :\n\\code{for exp in `ls | cut -c 1-8 | sort -u`; do nexp=`ls \\$exp* | wc -l`; echo \\$exp, \\$nexp; done}\nThis was not a transfer problem: the simulation was made with one \\gls{CCD} missing in one exposure.\n\nQA scripts were kicked off by MacArthur including \\texttt{visualizeVisit.py}\\footnote{\\url{https://community.lsst.org/t/y-band-stray-light-correction-for-hsc/2517}}, the latter did not work and needed a \\gls{patch}.\nPlots were accessible \\url{https://lsst-web.ncsa.illinois.edu/~lauren/OpsRehearsal_1/attempt1/plots/}.\nSome issues became clear perusing some of the plots.  As an example, the upward tilt towards bright magnitudes in \\figref{fig:bfp} is a red flag for the ``Brighter Fatter'' issue.\n\n\n\\begin{figure}\n\\includegraphics[width=0.8\\textwidth]{plots/plot-v199540-psfTraceDiff-psfMagHist}\n\\caption{Brighter fatter effect evidence }\n\\label{fig:bfp}\n\\end{figure}\n\n\\subsubsection{Discussion}\nWe discussed how to implement change in code with tight turn around during actual operations (need sign off from SciOps \\gls{AD}).\nHow should one decide to rerun -  we need policies to affect or not nightly or daily changes in case of failures. Probably there is some percent level of problems we would accept, one percent seems ok two starts to seem a lot.  It was noted that problems stemming from a new software version should always have the possibility to revert to a previous stable version.\n\nThe need for some sort of rolled up \\gls{QA} status were discussed - MacArthur came up with some summary files an example of which \\texttt{visitAnalysis\\_OpsRehearsal\\_night1\\_i.shortSum.txt} is in \\appref{sec:visitsum}.\n\\subsection{Day 2} \\label{sec:day2}\n\nThe daily meeting took place as planned at 11:00 \\gls{PST}.\n\nTransfers were initiated earlier than Day 1 with the 5 second delays removed, and all data had arrived at the \\gls{LDF} by 7:30 am.\nData ingestion {\\texttt{/project/OpsRehearsal\\_1/night2} and processing were initiated shortly thereafter and were completed within roughly 1 hour.\n\nNo processing errors were reported, so examination of less severe issues were undertaken.\nNoted were WARN-level problems that revolved around reference catalogs being in an outdated format\nand the lack of zeropoint information for z- and Y-bands.\n\n\\subsubsection{Discussion}\nThere were discussions about how the current \\gls{pipeline}, operating on DC2 data might compare with what might\nbe needed during commissioning and operations.\nIt was noted that because the rehearsal was using a processing \\gls{pipeline} (and \\gls{QA} tools) more amenable to \\gls{Data Release Processing} (\\gls{DRP}) that \\gls{QA} products available might not be good comparisons to that needed when working with prompt processing.\nAlso, it was noted that prompt processing \\gls{QA} might form a basis for later selection of inputs to \\gls{DRP}.\n\nAnother discussion revolved around whether WARN-level diagnostics might be dealt with in \\gls{Operations}/Commissioning.\nMostly it was felt that these fell into two classes:  those that were indicative of poor data (which might not require any intervention) and those that indicated software bugs (which should be tracked/resolved through tickets to the \\gls{DM} developers).\n\n\n\\subsection{Day 3} \\label{sec:day3}\n\nThe daily meeting took place as planned at 11:00 \\gls{PST}.\n\nTransfers were initiated similar to Day 2 and all data had arrived at the \\gls{LDF} by 7:30 am.\nData ingestion {\\texttt{/project/OpsRehearsal\\_1/night3} required roughly 20 minutes.\nProcessing was subsequently initiated but after 30 minutes it was found that jobs had never been submitted to the compute resource.  That resource (a reserved allocation) was found to still be running \\gls{QA} from Night 2. An alternate compute resource was identified and jobs re-submitted, finishing $\\sim$35 minutes later.\n\nSimilar WARN-level problems were identified prior to the daily meeting as were a\nsmall number of failures, similar to night 1 (number of stars resulting in failed \\gls{PSF} modeling).\n\n\\subsubsection{Discussion}\n\nDiscussions centered on what information needed to be captured from this rehearsal for future rehearsals.\nIt was felt that this rehearsal proceeded relatively smoothly but did not include processes that could\nmimic commissioning team's needs (i.e. fast turn around processing) and ad-hoc processing of data taken\nto address specific tests.  The next rehearsal (late 2019/early 2020) is meant to focus toward\nLSST \\gls{Commissioning} with ComCam and should include \\gls{Commissioning} Team members.\n\n\n\n\n\\section{Conclusion and lessons learned}\\label{sec:conc}\nThough there were some limitations in out setup (\\secref{sec:setup}) this was still useful exercise.\n\nOne central issue that should be followed-up on in subsequent rehearsals are the \\gls{QA} metrics to be gathered during prompt processing and that utilities to provide rollups/summaries.\n\nThough in the telecon status was discussed it was not properly recorded in the google sheet for the day,\nthere was no designated minute taker an individuals did not necessarily add a summary. In operations such a status\nreport should probably be filled even before the meeting.\n\n\n\n\n\n\\appendix\n\n\\section{ \\gls{Visit} summary \\label{sec:visitsum}}\n\\begin{verbatim}\n# Stars: Mag(Gaussian) - PSFMag (mmag) (commonZP)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i    -0.46     6.84    -0.56     51258     52230        83\n# weighted avg       i    -0.43     6.67    -0.52     51258     52230        83\n#================================================================================\n# Stars: Mag(CircAper12pix) - PSFMag (mmag) (commonZP)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i    -1.08     9.63    -1.20     51373     52230        83\n# weighted avg       i    -1.05     9.57    -1.16     51373     52230        83\n#================================================================================\n# Stars: Mag(Gaussian) - PSFMag (mmag)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i    -0.46     6.84    -0.56     51258     52230        83\n# weighted avg       i    -0.43     6.67    -0.52     51258     52230        83\n#================================================================================\n# Stars: Mag(CircAper12pix) - PSFMag (mmag)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i    -1.08     9.63    -1.20     51373     52230        83\n# weighted avg       i    -1.05     9.57    -1.16     51373     52230        83\n#================================================================================\n# Stars:   SdssShape Trace (calib_psf_used): $\\sqrt{0.5*(I_{xx}+I_{yy})}$ (pixels)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i     1.50     0.01     1.50     39435     39441        83\n# weighted avg       i     1.51     0.01     1.51     39435     39441        83\n#================================================================================\n# Stars:  SdssShape Trace: $\\sqrt{0.5*(I_{xx}+I_{yy})}$ (pixels)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i     1.51     0.01     1.51     51513     52230        83\n# weighted avg       i     1.51     0.01     1.51     51513     52230        83\n#================================================================================\n# Stars:  SdssShape Trace\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i     0.05     0.54     0.06     39411     39441        83\n# weighted avg       i     0.03     0.52     0.05     39411     39441        83\n#================================================================================\n# Stars: PSF - ref (calib_psf_used) (mmag)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i     1.08     7.07     1.12     36861     37100        83\n# weighted avg       i     1.04     7.04     1.08     36861     37100        83\n#================================================================================\n# Stars:  PSF - ref (calib_photom_used) (mmag)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i     1.30     7.58     1.26     48957     49377        83\n# weighted avg       i     1.27     7.55     1.23     48957     49377        83\n#================================================================================\n# Stars: PSF - ref (mmag)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i     1.26     7.60     1.24     50483     50939        83\n# weighted avg       i     1.23     7.56     1.19     50483     50939        83\n#================================================================================\n# Stars: CircAper12pix - ref (calib_psf_used) (mmag)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i     0.41     7.33     0.35     35636     37100        83\n# weighted avg       i     0.41     7.32     0.34     35636     37100        83\n#================================================================================\n# Stars:  CircAper12pix - ref (calib_photom_used) (mmag)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i     0.28     7.41     0.22     47018     49377        83\n# weighted avg       i     0.29     7.39     0.22     47018     49377        83\n#================================================================================\n# Stars: CircAper12pix - ref (mmag)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i     0.20     7.50     0.12     48218     50939        83\n# weighted avg       i     0.20     7.48     0.12     48218     50939        83\n#================================================================================\n# Stars: matches_distance_calib_astrometry_used (mas)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i     7.51     4.51     6.70     50403     50939        83\n# weighted avg       i     7.51     4.50     6.72     50403     50939        83\n#================================================================================\n# Stars: matches_distance (mas)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i     7.51     8.76     6.70     50403     50939        83\n# weighted avg       i     7.51     8.76     6.72     50403     50939        83\n#================================================================================\n# Stars:  $\\delta_{Ra}$ = $\\Delta$RA*cos(Dec) (mas) (calib_astrom_used)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i    -0.02     7.04    -0.08     50781     50939        83\n# weighted avg       i     0.01     7.05    -0.06     50781     50939        83\n#================================================================================\n# Stars: $\\delta_{Ra}$ = $\\Delta$RA*cos(Dec) (mas)\n#                filter    mean    stdev    median     num      numTot  NumEntries\n# straight avg       i    -0.02     7.04    -0.08     50781     50939        83\n# weighted avg       i     0.01     7.05    -0.06     50781     50939        83\n#================================================================================\n\\end{verbatim}\n\n\n\n\n\\label{sec:bib}\n\\bibliography{lsst,lsst-dm,refs_ads,refs,books}\n\n\n\n\n\n\\label{sec:acronyms}\n\\printglossaries\n\n\\end{document}\n",
  "author": [
    {
      "name": "William O\u2019Mullane",
      "@type": "Person"
    },
    {
      "name": "Robert Gruendl",
      "@type": "Person"
    },
    {
      "name": "Robert Blum",
      "@type": "Person"
    }
  ],
  "codeRepository": "https://github.com/lsst-dm/dmtn-119",
  "contIntegration": "https://travis-ci.org/lsst-dm/dmtn-119",
  "dateModified": "2019-07-13T07:00:00Z",
  "description": "Short report on the ops rehearsal held in Feb 2019.\n",
  "fileFormat": "text/plain",
  "language": "TeX",
  "reportNumber": "DMTN-119",
  "url": "https://dmtn-119.lsst.io"
}
